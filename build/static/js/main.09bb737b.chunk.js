(this.webpackJsonpphoto=this.webpackJsonpphoto||[]).push([[0],{150:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(12),i=t.n(r),c=t(4),l=t(203),s=t(204),d=t(205),p=t(200),b=t(206),m=t(208),j=t(211),h=t(202),x=t(199),g=t(207),u=t(221),O=t(219),C=t(222),f=t(209),w=t(210),N=t(212),y=t(100),k=t(213),v=t(214),S=t(215),W=t(216),I=t(217),R=t(218),z=(t.p,t.p+"static/media/bg.d6836046.png"),B=t(98),E=t(55),T=t(97),F=t.n(T),G=t(7);const $=Object(c.a)((e=>({root:{color:e.palette.getContrastText(E.a.white),backgroundColor:E.a.white,"&:hover":{backgroundColor:"#ffffff7a"}}})))(h.a),D=t(129).default,L=Object(l.a)((e=>({grow:{flexGrow:1},clearButton:{width:"-webkit-fill-available",borderRadius:"15px",padding:"15px 22px",color:"#000000a6",fontSize:"20px",fontWeight:900},root:{maxWidth:345,flexGrow:1},media:{height:400},paper:{padding:e.spacing(2),margin:"auto",maxWidth:500},gridContainer:{justifyContent:"center",padding:"4em 1em 0 1em"},mainContainer:{backgroundImage:`url(${z})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",height:"93vh",marginTop:"8px"},imageCard:{margin:"auto",maxWidth:400,height:500,backgroundColor:"transparent",boxShadow:"0px 9px 70px 0px rgb(0 0 0 / 30%) !important",borderRadius:"15px"},imageCardEmpty:{height:"auto"},noImage:{margin:"auto",width:400,height:"400 !important"},input:{display:"none"},uploadIcon:{background:"white"},tableContainer:{backgroundColor:"transparent !important",boxShadow:"none !important"},table:{backgroundColor:"transparent !important"},tableHead:{backgroundColor:"transparent !important"},tableRow:{backgroundColor:"transparent !important"},tableCell:{fontSize:"22px",backgroundColor:"transparent !important",borderColor:"transparent !important",color:"#000000a6 !important",fontWeight:"bolder",padding:"1px 24px 1px 16px"},tableCell1:{fontSize:"14px",backgroundColor:"transparent !important",borderColor:"transparent !important",color:"#000000a6 !important",fontWeight:"bolder",padding:"1px 24px 1px 16px"},tableBody:{backgroundColor:"transparent !important"},text:{color:"white !important",textAlign:"center"},buttonGrid:{maxWidth:"416px",width:"100%"},detail:{backgroundColor:"white",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},appbar:{background:"#be6a77",boxShadow:"none",color:"white"},loader:{color:"#be6a77 !important"},formControl:{minWidth:120,marginRight:e.spacing(2)}}))),P=()=>{const e=L(),[a,t]=Object(n.useState)(),[r,i]=Object(n.useState)(),[c,l]=Object(n.useState)(),[h,z]=Object(n.useState)(!1),[E,T]=Object(n.useState)(!1),[P,U]=Object(n.useState)("potato");let H=0;Object(n.useEffect)((()=>{if(!a)return void i(void 0);const e=URL.createObjectURL(a);i(e)}),[a]),Object(n.useEffect)((()=>{r&&(T(!0),(async()=>{if(h){let t=new FormData;t.append("file",a);try{let e=await D({method:"post",url:`http://localhost:8000/predict?type=${P}`,data:t,headers:{"Content-Type":"multipart/form-data"}});200===e.status&&l(e.data)}catch(e){console.error("Error sending file:",e)}T(!1)}})())}),[r]);return c&&(H=(100*parseFloat(c.confidence)).toFixed(2)),Object(G.jsxs)(o.a.Fragment,{children:[Object(G.jsx)(s.a,{position:"static",className:e.appbar,children:Object(G.jsxs)(d.a,{children:[Object(G.jsx)(p.a,{className:e.title,variant:"h6",noWrap:!0,children:"Krishi Samadhan"}),Object(G.jsx)("div",{className:e.grow})]})}),Object(G.jsx)(b.a,{maxWidth:!1,className:e.mainContainer,disableGutters:!0,children:Object(G.jsxs)(x.a,{className:e.gridContainer,container:!0,direction:"row",alignItems:"center",spacing:2,children:[Object(G.jsx)(x.a,{item:!0,xs:12,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},children:Object(G.jsxs)(g.a,{className:e.formControl,children:[Object(G.jsx)(u.a,{id:"type-select-label",children:"Type"}),Object(G.jsxs)(O.a,{labelId:"type-select-label",id:"type-select",value:P,onChange:e=>U(e.target.value),children:[Object(G.jsx)(C.a,{value:"potato",children:"Potato"}),Object(G.jsx)(C.a,{value:"tomato",children:"Tomato"})]})]})}),Object(G.jsx)(x.a,{item:!0,xs:12,children:Object(G.jsxs)(m.a,{className:`${e.imageCard} ${h?"":e.imageCardEmpty}`,children:[h&&Object(G.jsx)(f.a,{children:Object(G.jsx)(w.a,{className:e.media,image:r,component:"image",title:"Uploaded Image"})}),!h&&Object(G.jsx)(j.a,{className:e.content,children:Object(G.jsx)(B.a,{acceptedFiles:["image/*"],dropzoneText:`Drag and drop an image of ${P} to process`,onChange:e=>{if(!e||0===e.length)return t(void 0),z(!1),void l(void 0);t(e[0]),l(void 0),z(!0)}})}),c&&Object(G.jsx)(j.a,{className:e.detail,children:Object(G.jsx)(N.a,{component:y.a,className:e.tableContainer,children:Object(G.jsxs)(k.a,{className:e.table,size:"small","aria-label":"simple table",children:[Object(G.jsx)(v.a,{className:e.tableHead,children:Object(G.jsxs)(S.a,{className:e.tableRow,children:[Object(G.jsx)(W.a,{className:e.tableCell1,children:"Label:"}),Object(G.jsx)(W.a,{align:"right",className:e.tableCell1,children:"Confidence:"})]})}),Object(G.jsx)(I.a,{className:e.tableBody,children:Object(G.jsxs)(S.a,{className:e.tableRow,children:[Object(G.jsx)(W.a,{component:"th",scope:"row",className:e.tableCell,children:c.class}),Object(G.jsxs)(W.a,{align:"right",className:e.tableCell,children:[H,"%"]})]})})]})})}),E&&Object(G.jsxs)(j.a,{className:e.detail,children:[Object(G.jsx)(R.a,{color:"secondary",className:e.loader}),Object(G.jsx)(p.a,{className:e.title,variant:"h6",noWrap:!0,children:"Processing"})]})]})}),c&&Object(G.jsx)(x.a,{item:!0,className:e.buttonGrid,children:Object(G.jsx)($,{variant:"contained",className:e.clearButton,color:"primary",component:"span",size:"large",onClick:()=>{l(null),z(!1),t(null),i(null)},startIcon:Object(G.jsx)(F.a,{fontSize:"large"}),children:"Clear"})})]})})]})};var U=function(){return Object(G.jsx)(P,{})};i.a.render(Object(G.jsx)(o.a.StrictMode,{children:Object(G.jsx)(U,{})}),document.getElementById("root"))}},[[150,1,2]]]);
//# sourceMappingURL=main.09bb737b.chunk.js.map